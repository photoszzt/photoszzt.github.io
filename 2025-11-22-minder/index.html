<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd"> <html><body> <h3 id="minder-faulty-machine-detection-for-large-scale-distributed-model-training-link">Minder: Faulty Machine Detection for Large-scale Distributed Model Training <a href="https://arxiv.org/pdf/2411.01791" rel="external nofollow noopener" target="_blank">link</a> </h3> <ul> <li>Challenges to solve <ol> <li>Any machine could fail in various ways</li> <li>The normal state of a monitoring metric is task-dependent</li> <li>The correlation between fault types and monitoring metrics is not necessarily one-to-one</li> <li>Noises exist in time series monitoring data</li> </ol> </li> <li>Solution proposed by Minder <ol> <li>Machine level similarity: For challenge 1 and 2, if a machine undergoes a fault, its monitoring data will display distinctive differences, offering an opportunity for detection.</li> <li>Machine level continuity: For challenge 2, most abnormal patterns last for over 5min. if we recognize a machine displaying such dissimilarity continuously for a period, the machine may be faulty.</li> <li>Individual Learning-Based Denoising Models for Each Monitoring Metric: <ul> <li>For challenge 4, variational autoencoders can learn embedding schemes that can infer the generation factors for most of the training data.</li> </ul> </li> </ol> </li> <li>Metrics to monitor (bold are used in detection, others are collected but not used): <ol> <li>CPU Usage: Percentage of CPU time being used.</li> <li>PFC Tx Packet Rate: Periodic counts of PFC packets sent by RDMA-enabled devices. - RoCE only?</li> <li>GPU Duty Cycle: Percentage of time over the past sample period when the accelerator is active.</li> <li>GPU Power Draw: Periodic counts of the GPU power consumption.</li> <li>GPU Tensor Core Activity: Percentage of cycles when the tensor (HMMA / IMMA) pipe is active.</li> <li>GPU Graphics Engine Activity: Percentage of time when any portion of the graphics or compute engines are active.</li> <li>GPU NVLink Bandwidth: The rate of data transmitted/received over an NVLink.</li> <li>Memory Usage: Percentage of memory being used.</li> <li>Disk Usage: Percentage of storage space being used on a disk.</li> <li>TCP Throughput: Periodic counts of the amount of TCP data being transmitted by a NIC.</li> <li>TCP+RDMA Throughput: Periodic counts of the amount of TCP and RDMA data being transmitted by an NIC.</li> <li>GPU Memory Used: The amount of GPU memory being used by processes.</li> <li>GPU Temperature: The temperature of a GPU while it is operating, measured in degrees Celsius.</li> <li>GPU SM Activity: Averaged percentage of time when at least one warp is active on a multiprocessor.</li> <li>GPU Clocks: The clock speed of a GPU, reflecting the frequency of the GPUâ€™s processor.</li> <li>GPU FP Engine Activity: Percentage of cycles when the FP pipe is active.</li> <li>GPU Memory Bandwidth Utilization: Percentage of cycles when data is sent to or received from the device memory.</li> <li>PCIe Bandwidth: The rate of data transmitted/received over the PCIe bus.</li> <li>PCIe Usage: Percentage of the bandwidth being used on the PCIe bus.</li> <li>ECN Packet Rate: Periodic counts of ECN packets transmitted/received by a NIC.</li> <li>CNP Packet Rate: Periodic counts of CNP packets transmitted/received by a NIC.</li> </ol> </li> <li>Analytics: <ol> <li>Metrics data are grouped into a time window.</li> <li>Within the time window, align sample points across all sampled machines. If sample data points are missed, use data from nearest sampling time for padding.</li> <li>Normalize data points based on upper and lower limits of each metric with min-max normalization. \(x' = \frac{x-min}{(max - min)}\)</li> <li>Fed the normalized data to the corresponding metric LSTM-VAE model to get the embedding.</li> <li>Calculate pairwise Euclidean distances of embeddings between every two machines.</li> <li>For each machine, get the sum of the distances to other machines</li> <li>Calculate the normal/z-score of the sum of the distances of each machine. avg(x) is the average of x and std(x) is the standard deviation of x. \(z =\frac{x - avg(x)}{std(x)}\)</li> <li>The machine with the maximum normal score is probably the faulty one. If the maximum normal score is higher than a similarity threshold, the machine is assumed as a candidate of the time window</li> <li>Continuity check: shifts the time window with one data sample to detect the potentially faulty machine for new windows. If the same machine is detected with consecutive times that exceed a continuity threshold, 4mins, it is considered a truly faulty machine.</li> </ol> </li> </ul> </body></html>